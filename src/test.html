<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Amazon test</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
</head>
<body>
    <div>
        <ul>
            <li>

            </li>
            <li>

            </li>
            <li>
                <ul>
                    <li>
                        <ul>
                            <li>
                                <div>
                                    <p>
                                        <a href=""></a>
                                    </p>
                                    <ul>
                                        <li>

                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>

                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
    <script>
        const list = document.querySelectorAll('li');
        let deepest = 0;

        function getDepth (node) {
            var depth = 0;

            while (node !== document.body) {
                if (
                    node.tagName.toLowerCase() === 'ul'
                    || node.tagName.toLowerCase() === 'li'
                ) {
                    depth++;
                }

                node = node.parentNode;
            }

            return depth;
        }

        list.forEach(node => {
            var profundidade = getDepth(node);
            deepest = deepest < profundidade ? profundidade : deepest;
        });

        console.log(deepest);
    </script>
</body>
</html>
